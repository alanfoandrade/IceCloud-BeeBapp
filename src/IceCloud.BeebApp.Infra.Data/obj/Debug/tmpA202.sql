IF schema_id('Operacional') IS NULL
    EXECUTE('CREATE SCHEMA [Operacional]')
CREATE TABLE [Operacional].[Departamentos] (
    [Id] [uniqueidentifier] NOT NULL,
    [Nome] [varchar](150) NOT NULL,
    [EmpresaId] [uniqueidentifier] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    [DataAlteracao] [datetime] NOT NULL,
    [Ativo] [bit] NOT NULL,
    [Excluido] [bit] NOT NULL,
    CONSTRAINT [PK_Operacional.Departamentos] PRIMARY KEY ([Id])
)
CREATE TABLE [Operacional].[Empresas] (
    [Id] [uniqueidentifier] NOT NULL,
    [NomeFantasia] [varchar](150) NOT NULL,
    [RazaoSocial] [varchar](150) NOT NULL,
    [CNPJ] [varchar](14) NOT NULL,
    [TEL] [varchar](11) NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    [DataAlteracao] [datetime] NOT NULL,
    [Ativo] [bit] NOT NULL,
    [Excluido] [bit] NOT NULL,
    CONSTRAINT [PK_Operacional.Empresas] PRIMARY KEY ([Id])
)
CREATE TABLE [Operacional].[Produtos] (
    [Id] [uniqueidentifier] NOT NULL,
    [Nome] [varchar](150) NOT NULL,
    [EmpresaId] [uniqueidentifier] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    [DataAlteracao] [datetime] NOT NULL,
    [Ativo] [bit] NOT NULL,
    [Excluido] [bit] NOT NULL,
    CONSTRAINT [PK_Operacional.Produtos] PRIMARY KEY ([Id])
)
CREATE TABLE [Operacional].[Usuarios] (
    [Id] [uniqueidentifier] NOT NULL,
    [Nome] [varchar](150) NOT NULL,
    [Email] [varchar](100) NOT NULL,
    [CPF] [varchar](11) NOT NULL,
    [Foto] [varchar](100),
    [DataNascimento] [datetime] NOT NULL,
    [TipoUsuarioId] [uniqueidentifier] NOT NULL,
    [EmpresaId] [uniqueidentifier] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    [DataAlteracao] [datetime] NOT NULL,
    [Ativo] [bit] NOT NULL,
    [Excluido] [bit] NOT NULL,
    CONSTRAINT [PK_Operacional.Usuarios] PRIMARY KEY ([Id])
)
CREATE TABLE [Operacional].[Enderecos] (
    [Id] [uniqueidentifier] NOT NULL,
    [Logradouro] [varchar](150) NOT NULL,
    [Numero] [varchar](20) NOT NULL,
    [Complemento] [varchar](100),
    [Bairro] [varchar](50) NOT NULL,
    [CEP] [varchar](8) NOT NULL,
    [Cidade] [varchar](100),
    [Estado] [varchar](100),
    [UsuarioId] [uniqueidentifier] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    [DataAlteracao] [datetime] NOT NULL,
    [Ativo] [bit] NOT NULL,
    [Excluido] [bit] NOT NULL,
    CONSTRAINT [PK_Operacional.Enderecos] PRIMARY KEY ([Id])
)
CREATE TABLE [Operacional].[TipoUsuarios] (
    [Id] [uniqueidentifier] NOT NULL,
    [TipoDeUsuario] [varchar](100) NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    [DataAlteracao] [datetime] NOT NULL,
    [Ativo] [bit] NOT NULL,
    [Excluido] [bit] NOT NULL,
    CONSTRAINT [PK_Operacional.TipoUsuarios] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_EmpresaId] ON [Operacional].[Departamentos]([EmpresaId])
CREATE UNIQUE INDEX [IX_CNPJ] ON [Operacional].[Empresas]([CNPJ])
CREATE INDEX [IX_EmpresaId] ON [Operacional].[Produtos]([EmpresaId])
CREATE UNIQUE INDEX [IX_CPF] ON [Operacional].[Usuarios]([CPF])
CREATE INDEX [IX_TipoUsuarioId] ON [Operacional].[Usuarios]([TipoUsuarioId])
CREATE INDEX [IX_EmpresaId] ON [Operacional].[Usuarios]([EmpresaId])
CREATE INDEX [IX_UsuarioId] ON [Operacional].[Enderecos]([UsuarioId])
ALTER TABLE [Operacional].[Departamentos] ADD CONSTRAINT [FK_Operacional.Departamentos_Operacional.Empresas_EmpresaId] FOREIGN KEY ([EmpresaId]) REFERENCES [Operacional].[Empresas] ([Id])
ALTER TABLE [Operacional].[Produtos] ADD CONSTRAINT [FK_Operacional.Produtos_Operacional.Empresas_EmpresaId] FOREIGN KEY ([EmpresaId]) REFERENCES [Operacional].[Empresas] ([Id])
ALTER TABLE [Operacional].[Usuarios] ADD CONSTRAINT [FK_Operacional.Usuarios_Operacional.Empresas_EmpresaId] FOREIGN KEY ([EmpresaId]) REFERENCES [Operacional].[Empresas] ([Id])
ALTER TABLE [Operacional].[Usuarios] ADD CONSTRAINT [FK_Operacional.Usuarios_Operacional.TipoUsuarios_TipoUsuarioId] FOREIGN KEY ([TipoUsuarioId]) REFERENCES [Operacional].[TipoUsuarios] ([Id])
ALTER TABLE [Operacional].[Enderecos] ADD CONSTRAINT [FK_Operacional.Enderecos_Operacional.Usuarios_UsuarioId] FOREIGN KEY ([UsuarioId]) REFERENCES [Operacional].[Usuarios] ([Id])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201909181416458_AutomaticMigration', N'IceCloud.BeebApp.Infra.Data.Migrations.Configuration',  0x1F8B0800000000000400ED5DDB6EE3361ABE5F60DF41D06591DA49BA0BCC06768B8C9314D94E0E8893A2770346A21D6275AA4405498B7DB2BDD847EA2B94B2248A0791A20E769C46989B98878FE4CFFFC45FE43F7FFCEFFFB31F5E7CCF7A867182C2606E1F4D0E6D0B064EE8A2603DB753BCFAF693FDC3F77FFFDBECDCF55FAC9FCB76DF65ED48CF2099DB4F184727D369E23C411F24131F397198842B3C71427F0ADC707A7C78F8AFE9D1D11412089B6059D6EC2E0D30F2E1E607F9B9080307463805DE55E8422F29CA49CD72836A5D031F261170E0DCBE74E0C20B5377F219C2C7D3289A5C06AB184CCE0006138283E10BB6AD530F0132B525F456B6058220C40093899F3C247089E330582F235200BCFBD70892762BE025B058D049D5DC746D87C7D9DAA655C712CA49131CFA2D018FBE2B883515BB7722B94D8949C8794EC88E5FB3556F483AB7CF6004624CFE0C70685BE280270B2FCE1AD750FD8CB443C124DFAF090B7360291A1F50FE216C96FD3BB016A987D318CE0398E2187807D66DFAE821E727F87A1FFE0706F320F53C76016409A48E2B2045B77118C118BFDEC155B1AC4BD7B6A67CBFA9D8917663FAE48BFD3145E4EF6B323678F420658FA9B6FB75E8C31280F018911FDBBA022F5F60B0C64F44B2FE4924E602BD40B72C29501F0244C48D74C2710A5B8F7AEE47314C40CFB967C2B3002E48886C9440A40CDE23BFFD9432B0530FC31838A03FDA2946CF14E573187A1004EDA9F4E278842EED71AEC1335A6F44A19EEEB67507BD4D7DF284A25CE170C2F09536BC8843FF2EF404992BEBBF2EC3347632060A358DEE41BC86989FE56C5A09B556D4E94C3A4B7981F08105FC0204182408EC5ED0EFC06F205C860E315ABB1F7C717DFB6FDDA8FF1006CD07E937E6FDF917DD90475B187254836DD520ABA592E19461A9E7B4CAB0D498A673253FDD5435CDA2B26E8642953439B1BEEDBC1E9214C44831AFA2B26E5E4295342FB1BE6E5EC6C6A358640FE351207C60E3317A871F452DEABCC3169A46F409559AA8934417EAA187441708A344EF54A201D23A8087DB71006F2F76ED8C5D84381C60A1CDDAE81A240E2A02203DD5D13D8AC2422A7A72D7A8B9F74F73B7F0C544CDADF2D58CA715B830868EC2492C6BBF529D5ECD4CAC93DC44A9415BFF95617A2DD9B87632E9986A25F9D836FD6221C5A2FB04430A880F6AFEBE84EB18B8649FB44A7A3B46F03AF5A176DCE3ED18C1D08F3CC8598AAD19A6CF00C5DA256E29D0737EAB19F3D316CCFC02B9C0D53A5283D0F33CC1C0DDFEB60D63FC47B3DDD66CEBEC4F2BEB285A1EA5F9EC64763813D8D9F230281FD4F8641438839492BB3E0D8DF2D9513EF531CE160EA22AD659E7449A48EA6992649F56B289F1014FEAECF30B256AC16A88D9E43CC9447C08671209441191393283B9FD8D443E352A5D6F854A4F213CEA91844A2495A8B020BBEEB0207427B28F022C8B350A1C14014F3F01A19BA13EC8E84E07106BCE600489920DB09EA026233387667902741C415535916736659843CF33E20151B5BBCAD362B5BB540ECC7946F93D60573CA398C00E784641D0F7C0339277A2DA5EB5ABC2EC2F3DD69AB38D3A40D0C88D03F18D6A063B601C15514D86667CFD37D536ACD96CD20DB5419641B44EAD75AE9039DBBE55ED5333911D6AA01A029B8C2E048EDF849F6ABFD4ABB65D7F87A9DA77FE7EA1395BE9AF05ECCAA2E966B103A6D21179FF6C5BEE59675770490F189781ACFC584A6FE64AA7DE87041607DFA4388E893C91C12E21AEBF7252F9F3B51C2731180F5650A80E877256034475AD4482A08E7F0344753A9220A8CE6C5A48F581405E09F50A1A40182D5487C3E970018AE1098934D50713A695E26BB8C8A6CD072DBA08762B24766F3E5A3138155788710D7E99062490BE19C924D09E1A8CCE0DCCD4ABEDD390407552D80E09E4F89B4C03BD176CE607B3B3AFA4414306A5E76B40CF1EACC089919A1D946E9DB163D7952DEA5C39068BD712BDC9527F4150A64BB37B62EEA030AB11CC89863C5A97A49FE89461296A3C69DD6C9ABF80290A6653C55399D915882214AC99A7334589B5CCDFCD2CBE5DB67F3FE2E7185327A9794642674B47C2610CD650A8CD3E9CB9F002C509CE629D8F200B1C2E5C5F6A26B80A0A5B550E56E70DC89B579AB0B257F677E19B35BF23E27D09D9E32A402FC8A2B3269BF543056FC9DDADEC7513F0405C131B5F845EEA076A2752DD3BBF96C4F6CF4BCC1118AF9185D138936A2C3E52CEC2F135ED109970B908C954996316417316AB286A41351A33E788464B65A4D954E01FC94597D857D027A24C18490C554F430B8B42271BC889B2E7F644A47AC8218A4A55638EC83DCE6001B90A73BCFCBD050B949798236C5E4FB0009B825170DFB1E0D2D3CDD0825B1E53DB0BAEB2E768DB4611790311A1C792A14544711033101165CFFD1591CD0D735E3C36452DEC57765D9C335F598179FFFCEE370B9097B41325F662B7284B6C5D0BABCA87E939FBAA8FE0EBE83DAAA4BFB04AAA425183FBDB6558B783C3ADECBA1DADC45E166651D8F2163AAEB8FECB69B9A2AC858E626FF372BA8AAD30C72B6FECB25065598B59651770B9D964052DFA17D7693988A2AC857415B76539D92ACACC51149AB293961C35DBDE69362E0E3CB472D344BF0DF49BB6F776549C702555740D98AA91E9F79EE9A578BCD8848E4EE3F242FC7D56C4C29BF35949C1F1BC896D11123D23370B8C2F5F130CFD5C4096BF7A0B0F91F5560DAE40805630C1F9356EFBF8F0E858C880B53FD9A8A649E27A35DF12CC53525D12DFE5656EFF6EFD77F797D5D300FD9A4294DD9A402B04E35E8F869F41EC3C81587E30D5F7A9A83C4B3511338813EBF297AF14E5C0BA8909539D588784C243DC8C77018678B09BF19DD1B89BF18F08F7BE15DF8C31406AA677CFED62C6A4A1B8BE261FD250D06CB6238A69204259BF03EB3279D8D0EDC4BA8F5398C9909029A97B1EA4DA051E8D42BA1B21BD55A6C079F7423A9AA491DB8DD3C38CDC5E1F31D7801E76304255C6955636E8F6A2C904B537186C2A1683F5754FBCD259926A13AF74523A1C522FC5332AC177AF04356942DEB5169493770CA50BF9D41C75A8C71D74A19C78632035C4A7D9A803ED727EA89268D4217EEA992363A0A5F3193106021D46070FA37F479DD749E7E97354BC6BB5579B366228876D64371376EB9E6881C6C8BABCFE939EFF744BD0D0ED79B3F25EAC8980581D7227ECE1E3C0EEC91206DA7731594CABE7CEFBBEEFEA2FA5FBB7EFC6090F5AEC986EE32B1FBE53A2843E6FD17799C1E02F97B280F343BA6612784BF9D75F6178531DF0EED20D0C6404F84FCB9DD314ECBB396878B6F6D63641B85B410FF9E223417117D579001AD300E4772AE6F64D94B9D4643E9BAF86B9F7AA7D01AACA18A04B18A01B4CF938541C87FAA4D238B44637CEADE229BC2AF7802EF5806E1CE54360896ED4E2CA84A3555ACAA9DE74EBD218346531D00DA87DE7BCFD7C0702A3710FE56429AD39E0D4BCD3910EDF6F9BCFA0EB1285CDE5DE59F45FE2C0F90A5A4C56E1B7D65DDC1E6E27074D4750237AD285CCB7DBD92DA51AE8CAC675164C7E376EBEEC165904E4DB89C49E33FF2727712912B4AE20B2FFA133800E67C9699BCB6015963E8530A3B289104FBA8218B859882BC668051C4CAA1D98249BF4AD3F032FDD10F511BA97C14D8AA314932543FFD17B6589913926BAF137A912F839CF6EA24DEAD1219640A689B280DC4DF039459E4BE77D51130B5340641ECF8F9094E77B491C280CD7AF14E93A0C0C810AF25147ED1EFA9147C0929B60099E6197B93D24F00B5C03E7B5BC64AA0669DE089EECB33304D631F09302A3EA4F7E121E76FD97EFFF04D01DE4DB9A760000 , N'6.2.0-61023')

