CREATE TABLE [dbo].[Departamentos] (
    [Id] [uniqueidentifier] NOT NULL,
    [Nome] [varchar](150) NOT NULL,
    [EmpresaId] [uniqueidentifier] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    [DataAlteracao] [datetime] NOT NULL,
    [Ativo] [bit] NOT NULL,
    [Excluido] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.Departamentos] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Empresas] (
    [Id] [uniqueidentifier] NOT NULL,
    [NomeFantasia] [varchar](150) NOT NULL,
    [RazaoSocial] [varchar](150) NOT NULL,
    [CNPJ] [varchar](14) NOT NULL,
    [TEL] [varchar](11) NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    [DataAlteracao] [datetime] NOT NULL,
    [Ativo] [bit] NOT NULL,
    [Excluido] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.Empresas] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Produtos] (
    [Id] [uniqueidentifier] NOT NULL,
    [Nome] [varchar](150) NOT NULL,
    [EmpresaId] [uniqueidentifier] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    [DataAlteracao] [datetime] NOT NULL,
    [Ativo] [bit] NOT NULL,
    [Excluido] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.Produtos] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Usuarios] (
    [Id] [uniqueidentifier] NOT NULL,
    [Nome] [varchar](150) NOT NULL,
    [Email] [varchar](100) NOT NULL,
    [CPF] [varchar](11) NOT NULL,
    [Foto] [varchar](100),
    [DataNascimento] [datetime] NOT NULL,
    [TipoUsuarioId] [uniqueidentifier] NOT NULL,
    [EmpresaId] [uniqueidentifier] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    [DataAlteracao] [datetime] NOT NULL,
    [Ativo] [bit] NOT NULL,
    [Excluido] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.Usuarios] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[Enderecos] (
    [Id] [uniqueidentifier] NOT NULL,
    [Logradouro] [varchar](150) NOT NULL,
    [Numero] [varchar](20) NOT NULL,
    [Complemento] [varchar](100),
    [Bairro] [varchar](50) NOT NULL,
    [CEP] [varchar](8) NOT NULL,
    [Cidade] [varchar](100),
    [Estado] [varchar](100),
    [UsuarioId] [uniqueidentifier] NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    [DataAlteracao] [datetime] NOT NULL,
    [Ativo] [bit] NOT NULL,
    [Excluido] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.Enderecos] PRIMARY KEY ([Id])
)
CREATE TABLE [dbo].[TipoUsuarios] (
    [Id] [uniqueidentifier] NOT NULL,
    [TipoDeUsuario] [varchar](100) NOT NULL,
    [DataCadastro] [datetime] NOT NULL,
    [DataAlteracao] [datetime] NOT NULL,
    [Ativo] [bit] NOT NULL,
    [Excluido] [bit] NOT NULL,
    CONSTRAINT [PK_dbo.TipoUsuarios] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_EmpresaId] ON [dbo].[Departamentos]([EmpresaId])
CREATE UNIQUE INDEX [IX_CNPJ] ON [dbo].[Empresas]([CNPJ])
CREATE INDEX [IX_EmpresaId] ON [dbo].[Produtos]([EmpresaId])
CREATE UNIQUE INDEX [IX_CPF] ON [dbo].[Usuarios]([CPF])
CREATE INDEX [IX_TipoUsuarioId] ON [dbo].[Usuarios]([TipoUsuarioId])
CREATE INDEX [IX_EmpresaId] ON [dbo].[Usuarios]([EmpresaId])
CREATE INDEX [IX_UsuarioId] ON [dbo].[Enderecos]([UsuarioId])
ALTER TABLE [dbo].[Departamentos] ADD CONSTRAINT [FK_dbo.Departamentos_dbo.Empresas_EmpresaId] FOREIGN KEY ([EmpresaId]) REFERENCES [dbo].[Empresas] ([Id])
ALTER TABLE [dbo].[Produtos] ADD CONSTRAINT [FK_dbo.Produtos_dbo.Empresas_EmpresaId] FOREIGN KEY ([EmpresaId]) REFERENCES [dbo].[Empresas] ([Id])
ALTER TABLE [dbo].[Usuarios] ADD CONSTRAINT [FK_dbo.Usuarios_dbo.Empresas_EmpresaId] FOREIGN KEY ([EmpresaId]) REFERENCES [dbo].[Empresas] ([Id])
ALTER TABLE [dbo].[Usuarios] ADD CONSTRAINT [FK_dbo.Usuarios_dbo.TipoUsuarios_TipoUsuarioId] FOREIGN KEY ([TipoUsuarioId]) REFERENCES [dbo].[TipoUsuarios] ([Id])
ALTER TABLE [dbo].[Enderecos] ADD CONSTRAINT [FK_dbo.Enderecos_dbo.Usuarios_UsuarioId] FOREIGN KEY ([UsuarioId]) REFERENCES [dbo].[Usuarios] ([Id])
CREATE TABLE [dbo].[__MigrationHistory] (
    [MigrationId] [nvarchar](150) NOT NULL,
    [ContextKey] [nvarchar](300) NOT NULL,
    [Model] [varbinary](max) NOT NULL,
    [ProductVersion] [nvarchar](32) NOT NULL,
    CONSTRAINT [PK_dbo.__MigrationHistory] PRIMARY KEY ([MigrationId], [ContextKey])
)
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201909181415156_AutomaticMigration', N'IceCloud.BeebApp.Infra.Data.Migrations.Configuration',  0x1F8B0800000000000400ED5DDB6EE3361ABE5F60DF41D06591C649BA0BCC064E8B8C9314D94E0E8893A2770346A21D6275AA4405498B7DB2BDD847EA2B94B2248A6751073B4E63CC4DCCC347F2E77FE22FF29F3FFEF7FFE90F2F61E03CC334437174E21EEE1FB80E8CBCD847D1F2C4CDF1E2DB4FEE0FDFFFFD6FD3733F7C717EAEDB7D57B4233DA3ECC47DC238399E4C32EF098620DB0F9197C659BCC0FB5E1C4E801F4F8E0E0EFE35393C9C4002E1122CC799DEE51146215CFD203F6771E4C104E720B88A7D18645539A999AF509D6B10C22C011E3C712F3D380BE2DCDFFF0CE1E36992EC5F468B14EC9F010CF6090E862FD8754E0304C8D4E63058B80E88A218034C267EFC90C1394EE368394F480108EE5F1348DA2D4090C16A41C74D73DBB51D1C156B9B341D6B282FCF701C76043CFCAE22D644ECDE8BE42E252621E739213B7E2D56BD22E9897B06139062F2678463D711073C9E0569D15841F533D20E45FBE57EEDB3307B8EA6F11EE51FC266C5BF3D679607384FE14904739C8260CFB9CD1F03E4FD045FEFE3FFC0E824CA83805D005902A9E30A48D16D1A2730C5AF7770512DEBD2779D09DF6F2276A4DD983EE5627FCC11F9FB9A8C0D1E0348D96362EC7E1D87B006203C46E4C775AEC0CB17182DF11391AC7F1289B9402FD0AF4B2AD487081171239D709AC3CEA39E87490A333070EE85F0CC800F32221B35102983F728EC3EA502EC34C030051E188E768AD13345F91CC7010451772ABD7801A14B779C6BF08C962B5150D3DD75EE60B0AACF9E50522A1C4E18BED28617691CDEC581207375FDD7799CA75EC140B1A1D13D489710F3B39C4E1AA1368A3A9D496F29AF103EB0805F8008830C81CD0BFA1DF80DC4F3D823466BF383CFAE6FFF6D1AF51FC2A0E520C3C6BC3FFF621AF2700D43EED4605735C86AA96C3C6558EB39A332AC35A6ED5CC94F3FD74DB3AA54CD50A8922627D6779DD74396831469E65555AAE6255449F312EB55F3B2361ED52207188F0AE1031B8F9D77F851D4A2C93BECA069449F50A7897A4974A51E06487485B093E88D4A34404607F0603D0EE0EDC5A69DB18B18C7232CB45D1B5D83CC43550064A03ABA47495C49C540EEDA69EEEDD3DC1D7C315173EB7C35EB69453E4CA1A77112EBDAAF54A7373313EB2437516AD0D57F6598DE4836AE9D4C3AA65A4B3EB6CDB05848B5E821C1900AE2839ABF2FF132053ED927A3925E8F11BCCE43681CF7683D46300E93007296626D86E93340A971896B0AF49CDF1AC6FCB406333F433EF08D8ED428F43CCF30F0D7BF6DE318FF9DD9EE6AB64DF6A79375142D8FD67CF6323B9C09EC6D7918940F6A7C0A0A9C414AC94D9F8676F2D9533ECD31CE0E0EA22ED6A972226D24F534CB8A4F2BC5C4F8802775F6F98512B5E0B4C46C4A9E64223E84338904A284C81C99C189FB8D443E3D2A5D6F834A4F213CEAA1844A2495A8B0A8B8EE30237427B28F222C8B358A3C9480C03C01A19BA53E28E84E07106BCE600289928DB099A036233387667902741C4155B591673A6198C3CC33E20151B7BBDAD362B3BB540EEC7946FB3D60533CA399C006784643D0F7C0339277A2DB5EBDABC2EC2F3DD6DAB38D3E40D0CA8D23F18D6E061B601C1D516D86667CFD37D536ACD96CD30DCA20CB285A47699D1B64CEB6AF55FB2826B2410DA420B0CDE842E0F84DF849F9A55EB7EDE63B4CCDBEF3F70BEDD9CA7C2D605316CD348B0D309589C8DB67DB4ACFBAB8824B7AC0B40E6495C7527A33573AF53E64B03AF866D5714CE48902760EB1FACA49E3CF2B394E62301EACA2900A8772560B4473AD4482A08E7F0B44733A9220A8CE6C5B48F381405E09F50A5A40182DA4C2E174B800C5F084449AE68309D34AF3355C64D3F683165D04BB1512BBB71FAD189C862BC4B806BF4C0B1248DF8C6412184F0D56E70666EACDF61948A03B29AC870472FC4DA681D90BB6F383D9D937D2602083D6F3B5A0E70056E0C448CF0E5AB7CEDAB1EBCB162A578EC1E2B5C460B2A82F08CA7469774FEC1D14663582393190C7E8920C139D3A2C458D27AD9B4ECA173055C174A2792A33BD024982A225F374A62A71E6E5BB99D9B7F3EEEF47C21263E2658A672474B674241CA7600985DAE2C3990F2F509AE122D6F9088AC0E1CC0FA56682ABA0B155F5602A6F40DEBCDA84D5BD8ABF2BDFACFD1D11EF4BC81E57057A41165D3459AD1F6A784BEEEE14AF9B400052456C7C16077918E99D487DEFF25A12DBBF2CB14760BC4616C6E04CEAB1F848390BC7D7744364C2E5222453658F5905CD59ACAAA803D568CC9C231A2D9591A613817F24175D625F419F8832612531543D8D2D2C1A9D6C2127DA9EEB1391E62187282A4D8D3D22F7388305E42AECF1CAF7162C5059628FB07A3DC102AC0A7682FB8E05979E6EC616DCFA98DA5D70B53D77B66D27226F2022F45832B688680E621622A2EDB9BD22B2BA61CE8BC7AAA883FD2AAE8B73E6AB28B0EF5FDEFD6601CA926EA2C45EEC166589ADEB6055F9303D675FCD117C13BD772AE92FAC929A50D4E8FE761DD6EDE1706BBBAE472BB197855914B6BC838EABAEFF725AAE2AEBA0A3D8DBBC9CAE622BECF1EA1BBB2C545DD66156C5055C6E36454187FED5755A0EA22AEB205DD56D594EB6AA327B148DA6ECA525779A6DEB341B17071E5BB919A2DF16FACDD87B3D2A4EB8922ABA064CD58EE9B79EE9A578BCD8848E4EE3F242FC7D5AC5C2DBF35949C1F1B289EB10123D23BF088CCF5F330CC35240E6BF06B30091F5360DAE40841630C3E5356EF7E8E0F048C880B53DD9A82659E6078A6F09F629A92E89EFF272E2FEEEFC77F397D5F308FD9A4354DC9A400B04D3418F869F41EA3D81547E3035F4A9A83C4B3D110B8863E7F297AF1465CFB94909531D3B0784C263DC8CF7018678B49BF1BDD1B89BF18F080FBE15DF8E31426AA677CFED62C6A4B1B85E910F692C6836DB11C5B410A1A2DF9E73993DACE876ECDCA7392C6448C894D43F0F927281873B21DD8C90DE6A53E0BC7B21DD99A41DB75BA787D971BB3A626E003DE861849A8C2B9D6CD0ED459B09EA6E30D8542C16EBEB9F78A5B7242913AFF4523A1CD220C5B35382EF5E091AD284BC6B2D2827EF184B17F2A93954A8473D74A19C78632435C4A7D95081F6393F34493454889F06E6C81869E97C468C9140C7D1C1E3E8DF9DCEEBA5F3CC392ADEB5DA53A68D18CB61DBB19B0DBBF54FB44063647D5EFF49CF7FFA2568E8F7BC597B2FD646409C1EB913B6F07160FF640923EDBB982CA6D373E76DDF77FD97D2EDDB77EB84071D76CCB4F18D0FDF2B51C290B7E89BCC60F0974B59C0F9217D3309BCA5FC9BAF30BCA90E7877E906463202FCA7E5DE690AB6DD1CB43C5B7B6B9B20DCADA0877CF191A0B88BFA3C00AD6900CA3B15C4857E2CF6BDF45A8D2F3F7599024C89025483681F838AF8D40795F0698D0AFF56F3E45D9763C094624085AF7DE82BD1875A549940B44A4921DD5B6D537A82B6EC04AA818CEF96D79FBF406020EEE19B2C758A038BE2DD8D74987EDBFC047D97286C2AF76E62F81247CE3FD061B21A3F5475117BBC9D1C35BD8042E4A40B966FB7B36B4A1DD0978D5516497E076EBFEC0E5901E4DB86C43E33FFC726711132B46C208AFF7133821E6799699BCB6811D73E8230A3BA89101FBA8218F845C82AC568013C4CAA3D9865AB74AC3F83205F11F511FA97D14D8E931C9325C3F03178658951381AA6F157A90FF8394F6F92552AD1319640A6898A00DB4DF43947814FE77DA1886D69200A0FE64748CACBBD240E1186CB578A741D47964015F9A8E3750FC3242060D94D3407CFB0CFDC1E32F8052E81F75A5F1AD583B46F044FF6E91902CB14845985D1F4273F090FFBE1CBF77F02F92BCDCE6A760000 , N'6.2.0-61023')

